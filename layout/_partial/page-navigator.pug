//- TODO: add page-navigator
mixin page_navigator(page)
  if page.current && page.total
    ol.page-navigator
      - let range = theme.index.pager.range || 1;
      - let idx = page.current-range;
      if idx < 1
        - idx = 1;
      if idx > page.total
        - idx = page.total;
      if page.prev
        li.prev
          a(href=url_for(page.prev_link)) #{__('index.prev_page')}
      if idx > 1
        li
          a(href = url_for())= 1
      if idx > 3
        li
          span ...
      if idx == 3
        - idx = 2;
      while idx <= page.total && idx <= page.current+range || idx == page.total-1
        li(class = (idx == page.current) && 'current')
          a(href = url_for((idx == 1) && '/' || '/page/'+idx+'/'))= idx++
      if idx < page.total-1
        li
          span ...
      if idx <= page.total && page.total > 1
        li
          a(href = url_for('/page/'+page.total+'/'))= page.total
      if page.next
        li.next
          a(href=url_for(page.next_link)) #{__('index.next_page')}
